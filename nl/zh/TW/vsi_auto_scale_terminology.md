---

copyright:
  years: 2014, 2019
lastupdated: "2019-05-14"

keywords:

subcollection: virtual-servers

---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}

# 自動調整術語
{: #auto-scale-terminology}

請使用下列術語，以增加您對自動調整功能的瞭解。

* **自動調整群組：**自動調整群組是一組相同伺服器，以及選用的負載平衡器，由您設定的啟動配置所定義。群組可以擴增及縮減以回應負載，而其是由您配置的調整原則所定義，且由調整群組配置所連結。
* **<a name="group_name"></a>群組名稱：**在帳戶上，群組名稱必須是唯一的，而且需要此群組名稱，然後才能定義調整群組。群組名稱可以隨時加以編輯。
* **<a name="cooldown"></a>群組緩和：**在自動調整群組中的任何狀態變更之後，可將原則視為「作用中」並重新啟動原則之前的一段時間。需要緩和；它可以設為 0，即實際上關閉。無法設定超過 10 天的緩和。緩和期間提供自動調整群組重新校準的時間，以及提供度量平均值以反映變更。
  * **自動調整群組緩和：**在群組變成作用中之後，任何原則動作可以執行之前必須經過的時間量。
  * **原則緩和：**如同群組緩和一樣，但它只會置換此原則的設定。如果未提供，則會使用群組緩和值。
* **<a name="member"></a>成員：**群組包含成員，這些成員是由群組自動調整的虛擬伺服器。
* **<a name="min_virtual_member"></a>成員計數下限：**自動調整群組中容許的最少成員數目。使用者可以保證具有作用中狀態的自動調整群組，其成員數絕不會少於設定的數目。如果實際的成員數小於目前的成員計數，則會自動建立成員以達到下限。如果 VLAN 呈現在自動調整群組上，且未與計費項目相關聯，則值必須至少為 1。
* **<a name="max_virtual_member"></a>成員計數上限：**自動調整中容許的最多成員數目。使用者可以保證具有作用中狀態的自動調整群組，其成員數絕不會超過設定的數目。如果在建立或編輯期間，實際的成員數超過目前的成員計數，則會自動移除成員以達到上限。
* **資產：**帳戶上絕不會隨群組調整，但可以參與度量收集號碼的現有伺服器。目前，只支援虛擬伺服器資產。自動調整群組不需要具有任何資產。
* **<a name="status"></a>狀態：**自動調整群組的狀態是根據其成員正在執行的作業，以及群組是否已暫停所衍生的值。自動調整群組的狀態包括：
  * **調整中：**尚未佈建任何成員或有作用中的佈建交易執行中時使用。在調整中狀態下，無法觸發自動調整群組來進行調整，而且只能編輯不可採取行動的內容。
  * **忙碌：**任何成員有作用中的交易，但交易不是佈建或收回交易時使用。在忙碌狀態下，無法觸發自動調整群組來進行調整，而且只能編輯不可採取行動的內容。
  * **已暫停：**成員不是調整中或忙碌，但已設為「已暫停」時使用。在已暫停狀態下，無法觸發自動調整群組來進行調整；不過，可以編輯任何內容。在使用者回復自動調整群組之前，不會進行由於建立或編輯群組而發生的任何動作。如果調整自動群組時由於任何原因而發生錯誤，則可以由使用者手動暫停或自動暫停自動調整群組。只有使用者才能回復自動調整群組。
  * **作用中：**如果自動調整群組不是調整中、忙碌或已暫停，則為作用中。作用中時，可以編輯自動調整群組值，並啟動所有觸發程式。
* **<a name="termination"></a>終止原則：**終止原則是自動調整群組選擇要在縮減時移除哪些成員的方式。有三個原則可供選擇：
  * **最新：**：將移除最近佈建的成員。
  * **最舊：**將移除其佈建日期最早的成員。
  * **最接近下次收費：**將移除最接近下次收費的成員。目前，由於成員是按小時開立發票，最接近下次收費是目前小時內使用最多分鐘的成員。
* **<a name="multi-vlan"></a>多重 VLAN 調整群組：**該群組具有佈建至多個 VLAN 的伺服器。除了現有的調整群組規則之外，還有特別控管多重 VLAN 調整群組的規則：
  * 必須針對多重 VLAN 調整群組購買所有的 VLAN。
  * 單一路由器上不容許多個公用或專用 VLAN。
  * 調整時選取具有最低成員數目的 VLAN，並提供其公用及專用配對（如果已提供）。
  * 調整時選取具有最低成員數目的 VLAN，並提供其公用及專用配對（如果已提供）。
* **<a name="balanced term"></a>平衡終止設定：**如果已設定平衡終止旗標，則調整群組會以在配置的 VLAN 配對之間保持平衡的方式來縮減成員。如果不確定要使用哪個成員來維護平衡（例如，在兩個以上的 VLAN 配對上有相同數目的成員），則會使用終止原則。如果未設定旗標，則不論每個 VLAN 上有多少個成員，都會使用終止原則。
* **成員範本：**成員範本位於自動調整群組上，並「告知」群組虛擬伺服器在群組內的順序。使用成員範本時要記住的事項：
  * 必須提供帳戶 ID ，且其必須與「自動調整」群組相同。
  * 如果已指定，則計費必須設為每小時。
  * 如果提供資料中心，則它必須在相同的地區中，並包含群組上的 VLAN。
  * 無法將 VLAN 提供給範本。如果使用者需要為成員指定 VLAN，則他們應該使用「自動調整」群組的 VLAN。
  * 如果在「自動調整」群組上設定任何負載平衡器，則範本不能是僅限專用網路。
* **<a name="vlan"></a>VLAN：**使用者可以選擇性提供 VLAN 的集合，以進行成員伺服器的佈建。每個路由器只能提供一對 VLAN。如果提供多個 VLAN 配對給多個路由器，則調整系統會確保在路由器之間平均地新增成員。請參閱「平衡終止設定」，以進一步瞭解如何在多個 VLAN 配對間平均地移除成員。
  * 「自動調整」會嘗試在路由器背後重複使用您具有的公用 VLAN。如果未選取公用 VLAN，且未指出僅限專用，則會在相同的路由器上建立新的公用 VLAN。
  * 已選取「公用」時若未選取「專用 VLAN」，「自動調整」將不允許建立群組。您可能會看到錯誤「來賓範本無效，錯誤：僅指定了前端 VLAN。請同時指定後端 VLAN。所有公用 VLAN 都必須具有成對的專用 VLAN。平衡終止只能在多重 VLAN 平衡調整群組上啟用」。這不適用於「僅限專用網路」群組。
* **<a name="scalelb"></a>調整負載平衡器：**群組可以包含要在佈建完成時套用至成員的負載平衡器設定。調整負載平衡器的選項目前僅適用於本端負載平衡器，並會使用部分負載平衡器 API。負載平衡器虛擬 IP 位址必須與自動調整群組位於相同的帳戶上。依照 VLAN、虛擬伺服器資料中心及地區，負載平衡器也必須位在有效的位置中。目前，如果提供任何負載平衡器，則虛擬伺服器必須已提供資料中心。在佈建期間，虛擬伺服器會自動放置在負載平衡器後面。包含調整負載平衡器的項目包括：
  * **虛擬 IP 位址 ID：**要使用的負載平衡器 ID。
  * **服務埠：**送入的埠。如果此埠存在現有的服務群組記錄，則會使用該記錄。否則，會使用下列部分資訊來建立它。
  * **配置百分比：**從虛擬 IP 的每秒連線總數儲存區配置虛擬伺服器的每秒連線百分比。比方說，如果虛擬 IP 每秒有 250 個連線，且值為 25%，則該虛擬 IP 上的其他虛擬伺服器，最多只能將其他每秒連線數配置為 75%。它不是最純正的上限，但不論是否使用連線，卻是來自儲存區的純配置。如果特定埠的虛擬伺服器存在，則該號碼必須符合現有的配置百分比。
  * **遞送方法：**在伺服器之間遞送資料流量的方式。如果特定埠的虛擬伺服器存在，則該號碼必須符合現有的遞送方法。
  * **遞送類型：**要在伺服器之間執行的遞送類型。如果特定埠的虛擬伺服器存在，則該號碼必須符合現有的遞送類型。
  * **<a name="health_check"></a>性能檢查：**要在伺服器上執行的檢查類型。若為 HTTP_CUSTOM 檢查，可以提供 HTTP 方法、URL 及預期回應的屬性。
  * **埠：**要在性能檢查期間，以及在負載平衡器來回傳送資料流量時要使用的埠。
* **<a name="policies"></a>原則：**自動調整群組可以有任意數目的原則。原則會保留一組動作及一組觸發程式。觸發程式是選用項目，如果使用者寧願手動啟動原則的動作，則可能不會提供觸發程式。只需滿足一個觸發程式，即可啟動動作。原則包含：
  * **名稱：**必須為原則提供一個名稱，而且名稱在「自動調整」群組中必須是唯一的。
  * **原則緩和：**設定原則緩和是選用項目，不過，如果提供的話，它會置換在群組狀態變更之後開始觸發原則時的群組緩和。它不會對群組狀態變更的來源執行任何動作，而且在群組變成作用中之後，可以視為作用中。
  * **<a name="actions"></a>動作：**目前唯一的動作類型是調整動作。只能對作用中群組啟動動作。調整動作包括下列項目：
    * **數量：**要調整的成員數目。此數字可以是正數或負數，而值則視調整類型而定。
    * **調整類型：**有三種調整類型 – 絕對、相對及百分比：
      * **絕對（GUI 中的「確切」）：**絕對會強制自動調整群組不管現行成員計數為何，都要設定成員數目。絕對調整可以包括擴增、縮減或都不包括。數目必須在群組的下限與上限範圍內。
      * **<a name="relative"></a>相對：**相對調整會導致擴增或縮減特定數量的自動調整群組。不論數量為何，系統都會確保自動調整群組縮減後不會低於其最小值或高於其最大值。例如，群組的下限為 5，其現行計數為 7，而相對調整數量為 -4。計數會被視為在呼叫時僅為 -2 ，因為無法將其縮減至 5 以下。
      * **百分比：**百分比調整會導致自動調整群組根據正或負百分比擴增或縮減。數字是現行自動調整群組成員計數的百分比。一律會忽略小數點之後的任何額外百分比。如果百分比調整量為零，則會自動將其視為 -1 或 1，取決於原始百分比值是正數還是負數。比方說，如果群組有 27 個成員，而數量為 12（代表 12%），則表示會將 3.24 個成員捨入為 3。但是，如果群組只有 2 個成員，則表示 0.24 個成員通常會捨入為 0，但會自動向上捨入至少為 1。
  * **<a name="triggers"></a>觸發程式：**觸發程式是可以滿足的條件。觸發程式有三種類型 – 一次性、重複及資源用量：
    * **一次性：**一次性觸發程式採用單一日期，而且若自動調整群組為作用中，則會啟動。所有時間都是使用 UTC 格式。
    * **<a name="triggers_repeat"></a>重複：**重複觸發程式採用 Cron 格式化的排程，而且若群組為作用中，則會根據該排程觸發。
    * **資源用量：**資源用量觸發程式具有資源監看的集合。當符合所有資源監看時，會將觸發程式視為滿足。
      * **監看：**資源監看是單一參數集，用來監看所有成員中的特定度量值，以及自動調整群組的資產。參數如下：
        * **演算法：**這是結合度量值的演算法。唯一支援的演算法是「指數加權移動平均值 (EWMA)」。
        * **度量：**度量會根據下列值：
          * **CPU 百分比：**CPU 百分比。
          * **專用網路上的網路輸入：**專用虛擬介面上每秒送入的位元組數。
          * **專用網路上的網路輸出：**專用虛擬介面上每秒送出的位元組數。
          * **公用網路上的網路輸入：**公用虛擬介面上每秒送入的位元組數。
          * **公用網路上的網路輸出：**公用虛擬介面上每秒送出的位元組數。
        * **運算子：**檢查度量值是低於還是高於特定值時使用的值。接受的唯一值是大於 (>) 或小於 (<) 字元的文字。
        * **期間：**將度量值與特定值進行比較時聚集度量值的秒數。當度量聚集啟動時，不會將它視為有效，直到收集它至少經過這段時間為止。比方說，如果群組有 300 秒的緩和，以及超過 500 秒聚集度量的資源監看，則在過了 800 秒之前無法滿足監看。在通過緩和之前，度量會被視為無效。也會將聚集值視為無效，直到聚集期間至少建置它一定秒數的時間為止。期間不得小於兩分鐘或超過兩天。
        * **值：**要進行比較的值。若為 CPU 百分比度量，它必須介於 5 與 100 之間。若為網路度量，它不得小於 0。
