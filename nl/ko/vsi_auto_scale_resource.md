---

copyright:
  years: 2014, 2019
lastupdated: "2019-06-07"

keywords:

subcollection: virtual-servers

---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}

# 리소스 기반 자동 스케일링으로 트래픽 급증 관리
{: #managing-resourced-based-auto-scaling}

새 제품을 출시하거나 기존 제품을 할인 판매하는 중이면 웹 사이트에서 트래픽이 급증할 수 있습니다. 트래픽 급증은 응답 시간에 영향을 줄 수 있으므로 웹 사이트에서의 고객 경험에 영향을 미칩니다. {{site.data.keyword.cloud}} 자동 스케일링을 사용하면 자동으로 트래픽 급증에 응답할 수 있습니다. 리소스 기반 자동 스케일링을 사용하여 이러한 트래픽 급증을 제어할 수 있습니다.
{:shortdesc}

## 시작하기 전에
먼저 디바이스 메뉴로 이동하여 태스크를 완료할 수 있는 올바른 계정 권한이 있는지 확인하십시오. 

* 콘솔의 디바이스 메뉴로 이동하십시오. 자세한 정보는 [디바이스로 이동](/docs/vsi?topic=virtual-servers-navigating-devices)을 참조하십시오.
* 필요한 계정 권한 및 디바이스 액세스 권한이 있는지 확인하십시오. 사용자가 계정 관리자가 아니면 사용자 계정에는 자동 스케일링을 사용할 수 있는 권한이 포함되어야 합니다. 자동 스케일링 사용을 위한 권한 업데이트에 대한 자세한 정보는 [자동 스케일링을 위한 사용자 권한 설정](/docs/vsi?topic=virtual-servers-user-permissions-required-to-use-auto-scale)을 참조하십시오. 계정 소유자 또는 **사용자 관리** 클래식 인프라 권한이 있는 사용자만 권한을 조정할 수 있습니다.  

권한에 대한 자세한 정보는 [클래식 인프라 권한](/docs/iam?topic=iam-infrapermission#infrapermission) 및 [디바이스 액세스 관리](/docs/vsi?topic=virtual-servers-managing-device-access)를 참조하십시오.

## 자동 스케일링 그룹 추가
{: #adding-auto-scale-group}

예를 들어, 텍사스 소재의 댈러스라는 전자 상거래 웹 사이트에서는 항상 세 개의 가상 서버가 온라인 상태여야 합니다. 매출은 회사가 온라인 세일을 진행하는 경우 평일 오전 9:00과 오후 5:00 사이에 급증합니다. 웹 사이트 응답 시간을 유지할 수 있도록 이 기간 중에는 세 개의 가상 서버가 추가로 필요합니다. 또한 공용 인바운드 트래픽이 모든 가상 서버에서 10분 동안 평균 초당 5MB를 초과하는 경우 두 개의 가상 서버가 추가로 프로비저닝되어야 합니다. 트래픽이 초당 5MB 미만으로 감소하면 해당 추가 가상 서버는 취소되고 제거되어야 합니다. 목표는 주중 가상 서버가 추가적인 주중 트래픽의 영향을 받지 않도록 트래픽 급증을 처리하는 5개 미만의 가상 서버를 보유하는 것입니다. 다음 단계는 리소스 기반 스케일링을 지원하도록 자동 스케일링을 설정하는 방법을 설명합니다. 

1. **디바이스** 메뉴에서 **자동 스케일링**을 선택하십시오.
2. **자동 스케일링 그룹 추가**를 선택하십시오.
3. 먼저 **그룹 이름**(예: Weekend Scale Up Group)을 입력하여 자동 스케일링 그룹을 설정한 후 데이터 센터를 선택하십시오. 
4. 서버 종료 정책을 선택하십시오. 예를 들어, **이전**을 선택하는 경우 축소할 때 가장 이전에 프로비저닝된 날짜로 서버가 선택됩니다. 
5. 그룹이 다중 VLAN 스케일링 그룹이 되는지 여부와 구성된 VLAN 쌍에서 축소를 밸런싱하는 방법을 표시합니다. 
6. 서버를 프로비저닝할 공용 및 사설 VLAN을 선택하십시오. 공용 인터넷에서 서버에 액세스하는 경우(VLAN이 웹 서버를 실행하는 경우) **사설 네트워크 전용**을 선택 취소된 상태로 두십시오. 
7. **최소 멤버 수**를 3으로 설정하고 **최대 멤버 수**를 6으로 설정하십시오. **쿨다운 기간**을 0으로 설정하십시오. 이는 스케줄 기반 스케일링이므로 스케일링 조치를 트리거하기 위해 수집된 통계가 없습니다. 

## 그룹에 대한 멤버 구성 정의
{: #defining-member-configuration}

1. **멤버 구성**을 찾아 스케일링 서버의 **호스트 이름** 및 **도메인**을 입력하십시오. 그룹에 추가된 후속 서버에는 고유한 접미부(호스트 이름에 추가됨)가 있습니다. 
2. 컴퓨팅 인스턴스의 하드웨어 구성을 지정하십시오(코어, RAM 등). 
3. 최소 운영 체제를 설치하려면 운영 체제를 선택하십시오. 또한 **공용 이미지** 또는 **개인용 이미지**를 사용하여 인스턴스를 프로비저닝할 수도 있습니다. 
4. 인스턴스에 추가 소프트웨어 설치를 위한 추가 단계가 필요한 경우 **사후 설치 스크립트**의 URL을 지정하여 소프트웨어를 선택하십시오. (그룹에 대해 로드 밸런서를 사용하는 경우 멤버가 로드 밸런서 뒤에 배치되기 전에 사후 설치 스크립트가 실행됩니다.)

## 정책 설정
{: #setting-up-policies}

시나리오에서 전자 상거래 웹 사이트는 리소스 기반 스케일링을 사용합니다. 두 가지 정책이 필요합니다. 즉, 하나는 필요한 시간 프레임에 +3의 상대 스케일링 조치를 적용하는 것이고 다른 하나는 급증 현상이 끝나면 절대 스케일링 조치를 적용하는 것입니다. 첫 번째 정책은 리소스를 추가하는 것입니다. 

1. **정책**을 아래로 스크롤한 후 **정책 추가**를 클릭하십시오. **정책 이름**(예: 평일 확장)을 입력하십시오.
2. **쿨다운 기간**에 대한 그룹 쿨다운 옵션을 선택하십시오.
3. **트리거 추가**를 클릭하고 첫 번째 드롭 다운 메뉴에서 **모두**를 선택하여 반복되는 트리거를 지정한 후 후속 드롭 다운 상자에서 **월요일, 화요일, 화요일, 수요일, 목요일** 및 **금요일**과 **오후 2:00**\*를 강조표시하십시오. (**고급 편집** 선택란을 사용하여 crontab 표기법으로 트리거 빈도를 입력할 수 있습니다.)
4. **조치** 아래에서 **스케일링 기준** 드롭 다운 상자를 클릭하고 **정확**을 선택하십시오. **멤버** 필드에 3을 입력하십시오.
5. **정책 추가**를 다시 클릭하여 매일 오후에 서버를 제거하는 두 번째 정책을 지정하십시오. 쿨다운 기간은 그룹의 쿨다운 기간과 동일합니다. 트리거는 매주 월요일, 화요일, 수요일, 목요일 및 금요일 오후 10:00\*이며 정확한 스케일 조치인 3이 사용됩니다. **트리거** 필드에 입력하는 시간은 UTC 시간을 기반으로 합니다. 그러므로 오후 2:00(중부 일광 절약 시간 적용 시 오전 9:00) 및 오전 10:00(중부 일괄 절약 시간 적용 시 오후 5:00)을 선택해야 합니다. UTC/GMT에서는 일광 절약 시간을 인정하지 않음에 따라 중부 표준시 동안 시간은 오후 1:00 및 오후 9:00이 됩니다. 시간 변환은 [World Time Server ![외부 링크 아이콘](../../icons/launch-glyph.svg "외부 링크 아이콘")](http://www.worldtimeserver.com/current_time_in_UTC.aspx){: new_window} 사이트를 참조하십시오. 
6. 최소 멤버 수를 0으로 설정하고 최대 맴버 수를 5로 설정하여 쿨다운이 0인 다른 그룹(예: 트래픽 폭주 그룹)을 설정하십시오. 평일 확장 그룹과 동일한 그룹 및 멤버 구성의 설정을 사용하십시오(단, 그룹 이름은 제외됨). 
7. 공용 인바운드 트래픽이 모든 가상 서버에서 10분 동안 평균 초당 5MB를 초과하는 경우 **정책 추가**를 클릭하여 두 개의 추가 서버를 제어하는 두 번째 정책을 추가하십시오. 
8. **정책 이름**(예: 트래픽 폭주 그룹)을 입력하십시오.
9. **쿨다운 기간**에 대한 그룹 쿨다운 옵션을 선택하십시오.
10. **트리거 추가**를 클릭하십시오. 첫 번째 상자의 기본값인 **내 경우**를 그대로 두고 두 번째 상자에서는 **공용 네트워크 수신 Mbps**를 선택하십시오. 세 번째 상자의 기본값 > 로그인을 그대로 두십시오. 네 번째 상자에서는 **5**(5MB)를 입력하고 다섯 번째 상자에서는 **600**을 입력한 후 마지막 상자에서 **초**를 선택하여 10분을 나타내십시오. 
11. **조치** 아래에서 **스케일링 기준** 드롭 다운 상자를 클릭하고 **반복**을 선택하십시오. **멤버** 필드에 2를 입력하십시오.
12. **정책 추가**를 다시 클릭하여 트래픽이 5Mbps 미만으로 감소할 때 서버를 제거하는 두 번째 정책을 지정하십시오. 쿨다운 기간은 그룹의 쿨다운 기간과 동일합니다. 트리거는 내 공용 네트워크 수신 Mbps가 600초(10분) 동안 5(5 Mbps) 미만인 경우입니다. 

두 그룹이 작성되면 평일 확장 그룹은 세 개의 서버(최소)를 작성합니다. 평일의 오전 9시(중부 표준시)에 세 개의 서버가 더 추가되고 오후 5시(중부 표준시)에는 해당 서버가 제거됩니다. 해당 그룹에서 멤버를 추가하거나 제거할 수 있는 다른 방법은 없습니다. 완전히 별도의 트래픽 폭주 그룹에서 5의 그룹 최대값에 도달할 때까지 모든 멤버의 인바운드 공용 트래픽이 평균 초당 5MB인 두 개의 서버가 10분마다 추가됩니다. 인바운드 공용 트래픽이 10분 동안 해당 값 미만으로 유지된 후 이 그룹의 모든 서버가 제거됩니다. 

