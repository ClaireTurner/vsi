---

copyright:
  years: 2014, 2019
lastupdated: "2019-05-31"

subcollection: virtual-servers

---

{:note: .note}
{:shortdesc: .shortdesc}
{:new_window: target="_blank"}

# プロビジョニング・スクリプトの管理
{: #managing-a-provisioning-script}

プロビジョニング・スクリプトを使用して、新しくプロビジョンされたデバイスで実行するスクリプトの URL を指定できます。 プロビジョニング・スクリプトは、バイナリー・ファイルの組み合わせや任意のオペレーティング・システム (OS) サポート言語など、OS が実行できるどのファイルにすることもできます。 スクリプト名についての制限はありませんが、各スクリプトに同じような命名規則を使用すると識別しやすくなります。 プロビジョニング・スクリプトは、完全修飾ドメイン・ネームと関連付けられている必要があり、HTTP または HTTPS プロトコルを使用してアクセス可能である必要があります。 使用されるプロトコルのタイプは、プロビジョニング・スクリプトがデバイスにダウンロードされるときのシステムの自動的な反応に影響します。  
{:shortdesc}

* **HTTP プロトコル**を使用する場合、スクリプトはダウンロードされた後に管理者が手動で実行する必要があります。
* **HTTPS プロトコル**を使用する場合、スクリプトはダウンロードされ、可能であれば自動的に実行されます。 URL が有効なスクリプトに関連付けられていない場合は、スクリプトはダウンロードされ、それ以上のアクションは実行されません。

## 始めに
まず、デバイス・メニューに移動して、タスクを実行するための適切なアカウント権限を持っていることを確認します。 

* コンソールのデバイス・メニューに移動します。詳しくは、[デバイスへのナビゲート](/docs/vsi?topic=virtual-servers-navigating-devices)を参照してください。
* 必要なアカウント権限とデバイス・アクセス権限を持っていることを確認します。アカウントの所有者、またはクラシック・インフラストラクチャーの**「ユーザーの管理」**権限を持つユーザーのみが、権限を調整できます。 

権限について詳しくは、[クラシック・インフラストラクチャー許可](/docs/iam?topic=iam-infrapermission#infrapermission)および[デバイス・アクセスの管理](/docs/vsi?topic=virtual-servers-managing-device-access)を参照してください。

## プロビジョニング・スクリプトの追加
{: #add-provisioning-script}

1. **「デバイス」**メニューから**「管理」>「プロビジョニング・スクリプト (Provisioning Scripts)」**を選択します。
2. **「プロビジョニング・スクリプトの追加 (Add Provisioning Script)」**をクリックします。 
3. **「名前」**フィールドに、プロビジョニング・スクリプトの識別名を入力します。
4. **「URL」**フィールドに、スクリプトと関連付けられた完全修飾ドメイン・ネームを入力します。
5. プロビジョニング・スクリプトをアカウントに追加するには、**「追加」**をクリックします。 

## プロビジョニング・スクリプト詳細の編集
{: #edit-provisioning-script-details}

1. **「デバイス」**メニューから**「管理」>「プロビジョニング・スクリプト (Provisioning Scripts)」**を選択します。
2. プロビジョニング・スクリプトの**「名前」**列または**「URL」**列の任意の場所をクリックして、編集のためにスクリプトを開きます。
3. 名前または URL を更新します。
   URL を更新するときには完全修飾ドメイン・ネームを使用する必要があります。そうしないと変更は保存されません。
   {:note}
4. 画面の任意の場所をクリックして、編集内容を保存します。

## 次のステップ

アカウントと関連付けられたプロビジョニング・スクリプトは、いつでも変更または削除できます。 プロビジョニング・スクリプトは、削除されるまで {{site.data.keyword.cloud_notm}} コンソール内で保存され、{{site.data.keyword.cloud_notm}} コンソールを通して注文された任意の新規デバイスに関連付けることができます。 HTTP URL と関連付けられたスクリプトは、プロビジョン中に新規デバイスにダウンロードされます。これは管理者がデバイスにログインして手動で実行する必要があります。 HTTPS URL と関連付けられたスクリプトは、ダウンロードされた後、状況によっては追加の対話を行うことなく新規デバイスで実行されます。 

スクリプトを編集した場合は、有効な更新内容が画面にすぐに表示されます。 既存のプロビジョニング・スクリプトに加えられた変更は、既にプロビジョン済みのデバイスには影響しません。

